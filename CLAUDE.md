# 浮動小数点数・シフト演算学習アプリ設計書

## プロジェクト概要
高校生向けのコンピュータ数値表現学習Webアプリケーション。
シフト演算と浮動小数点数の仕組みを段階的に学習できる。

## 現在の実装状況
- Streamlitベースのマルチページアプリ
- シフト演算学習機能 (基本実装済み)
- 浮動小数点数学習機能 (基本実装済み)
- 32bit浮動小数点数変換機能 (実装済み)

## 改良計画

### 1. 浮動小数点数変換の強化
現在の機能に以下を追加:

#### ステップバイステップ表示の改善
- **例題**: 0.1015625₁₀ → 0.0001101₂
- **ステップ0**: 基数変換の詳細表示
- **ステップ1**: 符号部判定の説明強化
- **ステップ2**: 正規化プロセスの可視化
- **ステップ3**: 指数部計算（バイアス127の説明）
- **ステップ4**: 仮数部構築（23ビット埋め込み）

#### 64ビット倍精度対応
- 64ビット（double）形式サポート
- バイアス1023の説明
- 52ビット仮数部
- 11ビット指数部

### 2. シフト演算機能の拡張
#### 浮動小数点数との連携
- 正規化でのシフト演算の活用例
- 指数計算でのビットシフト
- 実用例の追加

### 3. UI/UX改善（高校生向け）
#### 学習効果向上
- アニメーション付きステップ表示
- 計算過程の色分け
- エラー時のヒント機能
- 段階的難易度設定

#### インタラクティブ要素
- リアルタイム計算
- 入力値変更時の即座更新
- ビット表示の強調表示
- 計算式の段階的表示

### 4. 教育コンテンツ充実
#### 基礎理論説明
- なぜ2^7-1=127がバイアスなのか
- IEEE 754標準の背景
- 精度と範囲のトレードオフ
- 実用的な応用例

#### 練習問題拡充
- 段階的難易度設定
- 即座フィードバック
- 間違い分析機能
- 復習問題生成

## 技術仕様

### 使用技術
- Python 3.x
- Streamlit (フロントエンド)
- struct (バイナリ操作)
- math (数学関数)

### ファイル構成
```
/workspaces/Floating-Point-Suppoter/
├── TOP.py                          # メインページ
├── pages/
│   ├── 1_📊_シフト演算学習.py      # シフト演算
│   └── 2_🔬_浮動小数点数学習.py    # 浮動小数点数
├── requirements.txt
└── CLAUDE.md                      # 設計書
```

### 実装優先順位
1. 🔴 **高**: 32ビット変換の詳細ステップ表示改善
2. 🟡 **中**: 64ビット倍精度サポート追加
3. 🟡 **中**: シフト演算との連携機能
4. 🟢 **低**: UI/UXアニメーション
5. 🟢 **低**: 練習問題の拡充

## 実装方針
- 既存コードの拡張を優先
- 新規ファイル作成は最小限
- 高校生の理解レベルに合わせた説明
- ステップバイステップの学習体験重視