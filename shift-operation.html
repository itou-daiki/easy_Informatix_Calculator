<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>シフト演算学習</title>
    <meta name="description" content="ビットシフト演算を学習。左シフト・右シフトの仕組みを視覚的に理解できます。">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="assets/css/custom.css">
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <!-- ヘッダー -->
    <header class="bg-white dark:bg-gray-800">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <a href="index.html" class="text-gray-600 dark:text-gray-400 hover:text-primary">← 戻る</a>
                <div>
                    <h1 class="text-2xl font-bold text-gray-900 dark:text-white">シフト演算学習</h1>
                    <p class="text-sm text-gray-600 dark:text-gray-400">ビット操作の基本</p>
                </div>
            </div>
            <button id="theme-toggle" class="px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200">
                <!-- ダークモード切り替え -->
            </button>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="container mx-auto px-4 py-8 max-w-5xl">
        <!-- タブナビゲーション -->
        <div class="mb-8 border-b border-gray-200 dark:border-gray-700">
            <div class="flex space-x-4">
                <button data-tab="explanation" class="tab-button tab-button-active">説明</button>
                <button data-tab="experience" class="tab-button tab-button-inactive">シフト演算体験</button>
                <button data-tab="quiz" class="tab-button tab-button-inactive">練習問題</button>
            </div>
        </div>

        <!-- 説明タブ -->
        <div data-tab-content="explanation">
            <div class="card">
                <h2 class="text-3xl font-bold mb-4 text-gray-900 dark:text-white">シフト演算とは？</h2>
                <p class="mb-6 text-gray-700 dark:text-gray-300">
                    シフト演算は、コンピュータでビット（0と1）を左右に移動させる演算です。<br>
                    通常の乗除算よりも高速に実行でき、プログラミングで頻繁に使用されます。
                </p>

                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="step-card">
                        <h3 class="text-xl font-bold mb-3 text-gray-900 dark:text-white">左シフト (<<)</h3>
                        <p class="mb-3 text-gray-700 dark:text-gray-300">
                            ビットを左に移動 → 2の累乗倍
                        </p>
                        <div class="code-block">
5 << 1 = 10  (5 × 2¹)<br>
5 << 2 = 20  (5 × 2²)<br>
5 << 3 = 40  (5 × 2³)
                        </div>
                    </div>

                    <div class="step-card">
                        <h3 class="text-xl font-bold mb-3 text-gray-900 dark:text-white">右シフト (>>)</h3>
                        <p class="mb-3 text-gray-700 dark:text-gray-300">
                            ビットを右に移動 → 2の累乗で除算
                        </p>
                        <div class="code-block">
20 >> 1 = 10  (20 ÷ 2¹)<br>
20 >> 2 = 5   (20 ÷ 2²)<br>
20 >> 3 = 2   (20 ÷ 2³)
                        </div>
                    </div>
                </div>

                <div class="alert alert-info">
                    <strong>重要ポイント</strong>
                    <ul class="mt-2 ml-4 space-y-1">
                        <li>• シフト演算は通常の乗除算より高速です</li>
                        <li>• 1ビット左シフトは2倍、1ビット右シフトは÷2と同じ</li>
                        <li>• プログラミングで最適化やビット操作に活用されます</li>
                    </ul>
                </div>
            </div>

            <!-- 視覚的な例 -->
            <div class="card">
                <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">視覚的な理解</h3>
                <div class="mb-6">
                    <h4 class="text-lg font-bold mb-3 text-gray-900 dark:text-white">左シフトの例: 5 << 1</h4>
                    <div class="space-y-4">
                        <div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">元の値: 5 (10進数)</p>
                            <div class="grid grid-cols-8 gap-2">
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-1">1</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-1">1</div>
                            </div>
                        </div>
                        <div class="text-center text-2xl">⬇</div>
                        <div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">1ビット左シフト後: 10 (10進数)</p>
                            <div class="grid grid-cols-8 gap-2">
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-1">1</div>
                                <div class="bit-cell bit-0">0</div>
                                <div class="bit-cell bit-1">1</div>
                                <div class="bit-cell bit-0">0</div>
                            </div>
                            <p class="text-sm text-green-600 dark:text-green-400 mt-2">→ 右側に0が追加される</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- シフト演算体験タブ -->
        <div data-tab-content="experience" class="hidden">
            <div class="card">
                <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">シフト演算体験</h2>

                <!-- 入力セクション -->
                <div class="grid md:grid-cols-3 gap-4 mb-8">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">数値 (0-255)</label>
                        <input type="number" id="shift-number" min="0" max="255" value="10" class="input-field">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">演算タイプ</label>
                        <select id="shift-type" class="input-field">
                            <option value="left">左シフト (<<)</option>
                            <option value="right">右シフト (>>)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">シフト量 (1-7)</label>
                        <input type="number" id="shift-amount" min="1" max="7" value="1" class="input-field">
                    </div>
                </div>

                <!-- ステップ解説 -->
                <div class="space-y-6">
                    <div class="step-card">
                        <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">ステップ1: 元の数値を2進数で表現</h3>
                        <div id="step1-content"></div>
                    </div>

                    <div class="step-card">
                        <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">ステップ2: シフト演算の実行</h3>
                        <div id="step2-content"></div>
                    </div>

                    <div class="step-card">
                        <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">ステップ3: ビット移動の可視化</h3>
                        <div id="step3-content"></div>
                    </div>

                    <div class="step-card">
                        <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">ステップ4: 結果の確認</h3>
                        <div id="step4-content"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 練習問題タブ -->
        <div data-tab-content="quiz" class="hidden">
            <div class="card">
                <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">練習問題</h2>

                <div class="space-y-6">
                    <!-- 問題1 -->
                    <div class="step-card">
                        <h3 class="text-lg font-bold mb-3 text-gray-900 dark:text-white">問題1: 左シフト</h3>
                        <p class="mb-4 text-gray-700 dark:text-gray-300"><strong>6 を 3ビット左シフトした結果は？</strong></p>
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="number" id="answer-q1" class="input-field" placeholder="答えを入力">
                            <div class="flex space-x-2">
                                <button id="check-q1" class="btn-primary flex-1">正解確認</button>
                                <button id="hint-q1" class="btn-secondary">ヒント</button>
                            </div>
                        </div>
                        <div id="result-q1"></div>
                    </div>

                    <!-- 問題2 -->
                    <div class="step-card">
                        <h3 class="text-lg font-bold mb-3 text-gray-900 dark:text-white">問題2: 右シフト</h3>
                        <p class="mb-4 text-gray-700 dark:text-gray-300"><strong>56 を 2ビット右シフトした結果は？</strong></p>
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="number" id="answer-q2" class="input-field" placeholder="答えを入力">
                            <div class="flex space-x-2">
                                <button id="check-q2" class="btn-primary flex-1">正解確認</button>
                                <button id="hint-q2" class="btn-secondary">ヒント</button>
                            </div>
                        </div>
                        <div id="result-q2"></div>
                    </div>

                    <!-- 問題3 -->
                    <div class="step-card">
                        <h3 class="text-lg font-bold mb-3 text-gray-900 dark:text-white">問題3: 2進数シフト</h3>
                        <p class="mb-4 text-gray-700 dark:text-gray-300"><strong>2進数 10110 を1ビット左シフトした結果は？（2進数で回答）</strong></p>
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" id="answer-q3" class="input-field" placeholder="2進数で入力">
                            <div class="flex space-x-2">
                                <button id="check-q3" class="btn-primary flex-1">正解確認</button>
                                <button id="hint-q3" class="btn-secondary">ヒント</button>
                            </div>
                        </div>
                        <div id="result-q3"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- フッター -->
    <footer class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
        <div class="container mx-auto px-4 py-8 text-center">
            <p class="mb-2 text-gray-600 dark:text-gray-400">シフト演算学習</p>
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                <a href="index.html" class="text-primary hover:underline">ホーム</a> |
                <a href="floating-point.html" class="text-primary hover:underline">浮動小数点数学習</a> |
                <a href="https://forms.gle/example" target="_blank" class="text-primary hover:underline">フィードバック</a>
            </p>
            <p class="text-sm text-gray-600 dark:text-gray-400">
                © 2022-2025 <span class="font-semibold text-primary">Dit-Lab.(Daiki Ito)</span>. All Rights Reserved.
            </p>
        </div>
    </footer>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/shift.js"></script>
</body>
</html>
